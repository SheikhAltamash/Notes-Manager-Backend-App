# User Management API  
This API provides user and note management functionality using Firebase Firestore as the database. The server is built with Node.js and Express.
## **Database Structure**

### **1. Users Collection**  
- **Collection Name:** `users`  
- **Fields:**  
  - `id`: Unique user ID (string, auto-generated by Firestore)  
  - `name`: User's name (string)  
  - `email`: User's email address (string)  
  - `createdAt`: Timestamp when the user was created (timestamp)  

### **2. Notes Collection**  
- **Collection Name:** `notes`  
- **Fields:**  
  - `id`: Unique note ID (string, auto-generated by Firestore)  
  - `userId`: ID of the user who owns the note (string, references `users.id`)  
  - `title`: Title of the note (string)  
  - `content`: Content of the note (string)  
  - `createdAt`: Timestamp when the note was created (timestamp)  
  - `updatedAt`: Timestamp when the note was last updated (timestamp)  

---

## **API Endpoints**

### **Endpoints Overview**  

| Endpoint           | Method | Description                        | Example Payload |
|--------------------|--------|------------------------------------|-----------------|
| `/users/signup`           | `POST` | Create a new user                  | JSON Body       |
| `/users/login`           | `POST` | Login a new user                  | JSON Body       |
| `/users/logout`           | `POST` | Logout a new user                  | JSON Body       |
| `/users/edit`     | `PUT`  | Update a user’s information        | JSON Body       |
| `/users/delete`   | `DELETE` | Delete a user                     | JSON Body   |
| `/notes/create`    | `POST` | Create a new note                  | JSON Body       |
| `/notes/`   | `GET`  | Get all notes of a user             | JSON Body   |
| `/notes/edit`   | `PUT`  | Update a note                      | JSON Body       |
| `/notes/delete`   | `DELETE` | Delete a note                     | JSON Body   |

---

## **Example Requests**

### **1. Users**

#### **Create User**  
**Request:**  
```bash
curl -X POST http://localhost:8080/users/signup
-H "Content-Type: application/json" \
-d '{
  "name": "Sheikh Altamash",
  "email": "altamash123456@gmail.com"
}'
```  
**Successful Response:**  
```json
{
  "message": "User registered successfully",
  "userId": "ePUhws7R3whhIV8AqfVLjo7HcdI3"
}
```

**Unsuccessful Response:**  
```json
{
  "message": "The email address is already in use by another account.",
  "code": "auth/email-already-exists"
}
```

#### **User Login**  
**Request:**  
```bash
curl -X POST http://localhost:8080/users/login 
-H "Content-Type: application/json" \
-d '{
  "email": "altamash123456@gmail.com",
  "password": "your-password"
}'
```  
**Response:**  
```json
{
  "message": "User login successfully",
  "UserId": "4Ou9abwdHKRl2Y3DHp8CEGXmuEo1"
}
```

#### **Get User Details**  
**Request:**  
```bash
curl -X GET http://localhost:8080/users
```  
**Response:**  
```json
{
  "id": "4Ou9abwdHKRl2Y3DHp8CEGXmuEo1",
  "name": "Sheikh Altamash",
  "email": "altamash123456@gmail.com",
  "createdAt": "2024-11-19T12:00:00Z"
}
```

#### **Update User**  
**Request:**  
```bash
curl -X PUT http://localhost:8080/users/edit
-H "Content-Type: application/json" \
-d '{
  "name": "Sheikh Altamash",
  "email": "altamash123456@gmail.com"
}'
```  
**Response:**  
```json
{
  "message": "User details updated successfully",
  "email": "altamash123456@gmail.com",
  "name": "Sheikh Altamash"
}
```

---

### **2. Notes**

#### **Create Note**  
**Request:**  
```bash
curl -X POST http://localhost:8080/notes/create
-H "Content-Type: application/json" \
-d '{
  "userId": "4Ou9abwdHKRl2Y3DHp8CEGXmuEo1",
  "title": "Dream Big, Code Bigger – My Journey Begins",
  "content": "Hey everyone! This is Altamash here. I’m thrilled to share my aspirations with you all. I’m diving headfirst into the world of tech to become a skilled MERN stack developer. It's a journey full of challenges and excitement, and I’m ready to embrace every moment of it. Let's keep learning, growing, and chasing our dreams together!""
}'
```  
**Response:**  
```json
{
  "noteId": "TnQYPhOjUY8Swuw5lKwC",
  "title": "Dream Big, Code Bigger – My Journey Begins",
  "content": "Hey everyone! This is Altamash here. I’m thrilled to share my aspirations with you all. I’m diving headfirst into the world of tech to become a skilled MERN stack developer. It's a journey full of challenges and excitement, and I’m ready to embrace every moment of it. Let's keep learning, growing, and chasing our dreams together!"",
  "timestamp": "2024-11-20T11:30:26.397Z",
  "userId": "4Ou9abwdHKRl2Y3DHp8CEGXmuEo1"
}
```

#### **Get Note Details**  
**Request:**  
```bash
curl -X GET http://localhost:8080/notes/TnQYPhOjUY8Swuw5lKwC
```  
**Response:**  
```json
{
  "noteId": "TnQYPhOjUY8Swuw5lKwC",
  "title": "Dream Big, Code Bigger – My Journey Begins",
  "content": "Hey everyone! This is Altamash here. I’m thrilled to share my aspirations with you all. I’m diving headfirst into the world of tech to become a skilled MERN stack developer. It's a journey full of challenges and excitement, and I’m ready to embrace every moment of it. Let's keep learning, growing, and chasing our dreams together!"",
  "timestamp": {
    "_seconds": 1732102226,
    "_nanoseconds": 397000000
  },
  "userId": "4Ou9abwdHKRl2Y3DHp8CEGXmuEo1"
}
```

#### **Update Note**  
**Request:**  
```bash
curl -X PUT http://localhost:8080/notes/edit
-H "Content-Type: application/json" \
-d '{
  "title": "Updated Title",
  "content": "Updated content",
  "id":"TnQYPhOjUY8Swuw5lKwC",
  "userId":"TnQYPhOjUY8Swuw5lKwC"
}'
```  
**Response:**  
```json
{
  "message": "Note updated successfully"
}
```

#### **Delete Note**  
**Request:**  
```bash
curl -X DELETE http://localhost:8080/notes/TnQYPhOjUY8Swuw5lKwC
```  
**Response:**  
```json
{
  "message": "Note deleted successfully."
}
```

#### **Unauthorized Access**  
**Request:**  
```bash
curl -X GET http://localhost:8080/notes/TnQYPhOjUY8Swuw5lKwC
```  
**Response:**  
```json
{
  "message": "You do not have access to this note"
}
```

---

## **Postman Collection**

To make testing easier, import the following Postman collection:  
```json
{
  "info": {
    "name": "User Management API",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "item": [
    {
      "name": "Create User",
      "request": {
        "method": "POST",
        "header": [
          {
            "key": "Content-Type",
            "value": "application/json"
          }
        ],
        "body": {
          "mode": "raw",
          "raw": "{\"name\": \"John Doe\", \"email\": \"john.doe@example.com\"}"
        },
        "url": {
          "raw": "http://localhost:8080/users",
          "host": ["localhost:8080"],
          "path": ["users"]
        }
      }
    },
    ...
  ]
}
```

## **Setup**

1. Clone the repository.  
2. Install dependencies: `npm install`  
3. Configure environment variables.  
4. Run the server: `npm start`  

